{% load static %}

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Página Inicial - Agrônomo</title>

  <link rel="stylesheet" href="{% static 'css/indexAgronomo.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <script src="{% static 'js/indexAgronomo.js' %}"></script>
</head>
<body class="dashboard-body">

  <!-- SIDEBAR -->
  <aside id="sidebar" class="sidebar">
    <div id="sidebar-header" class="sidebar-header">
      <img src="{% static 'images/logoMeta.png' %}" alt="Metaphyta" class="logo-sidebar" id="logo-sidebar">
    </div>

    <nav id="sidebar-nav" class="sidebar-nav">
        <a href="#" class="nav-link active" id="link-dashboard">
            <i class="fas fa-home"></i>
            <span>Início</span>
        </a>
        <a href="{% url 'perfilAgronomo' %}" class="nav-link" id="link-perfil">
            <i class="fas fa-user-tie"></i>
            <span>Meu Perfil</span>
        </a>
        <a href="#" class="nav-link" id="link-clientes">
            <i class="fas fa-users"></i>
            <span>Clientes</span>
        </a>
        <a href="/" class="nav-link logout" id="link-logout">
            <i class="fas fa-sign-out-alt"></i>
            <span>Sair</span>
        </a>
    </nav>
  </aside>

  <!-- CONTEÚDO PRINCIPAL -->
  <main id="main-content" class="main-content">

    <!-- Cabeçalho -->
    <header id="main-header" class="main-header">
        <h1>Olá, <span id="nomeAgronomo">{{ nome }}</span></h1>
        <p>Acompanhe seus clientes e atividades.</p>
    </header>

    <!-- Alertas -->
    <div id="alert-container">
        {% if messages %}
            {% for message in messages %}
            <div class="alert {{ message.tags }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- Seção de Notificações -->
    <section id="notifications-section" class="notifications-section">
        <h2><i class="fas fa-bell"></i> Notificações</h2>
        <div id="containerNotificacoes">
            {% if notificacoes %}
                {% for notif in notificacoes %}
                    <div class="notification-card">
                        <p>{{ notif.texto }}</p>
                        <span class="notification-time">{{ notif.tempo }}</span>
                    </div>
                {% endfor %}
            {% else %}
                <div class="notification-card">
                    <p>Tudo tranquilo, sem notificações novas.</p>
                </div>
            {% endif %}
        </div>
    </section>

    <!-- Seção de Clientes -->
    <section id="clients-section" class="clients-section">
        <h2><i class="fas fa-users"></i> Meus Clientes</h2>

        <div id="clients-grid" class="clients-grid">
            {% for c in clientes %}
            <div class="client-card">
            <img src="{% static 'images/user.png' %}" alt="Cliente" class="client-photo">
            <div class="client-info">
                <h3>{{ c.nome }}</h3>
                <p>Propriedade: {{ c.propriedade }}</p>
                <a href="#" class="btn-card">Ver Detalhes</a>
            </div>
            </div>
            {% endfor %}

        <!-- Card de novo cliente -->
        <a href="#" id="btn-add-client" class="client-card add-new-card">
          <div class="add-new-content">
            <i class="fas fa-user-plus"></i>
            <p>+ Adicionar Novo Cliente</p>
          </div>
        </a>
      </div>
    </section>
  </main>

</body>
</html>